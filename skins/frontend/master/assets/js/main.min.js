"use strict";!function(a){var b=function(){var b="#cuar-js-content-container",c=".cuar-css-wrapper",d=400,e=400,f=a(b),g=a(c),h=a("#cuar-js-collection-gallery",f),i=a("#cuar-js-collection-to-list",f),j=a("#cuar-js-collection-to-grid",f),k=a(".cuar-js-collection-filters-buttons",f),l=function(){function b(){var b=window.navigator.userAgent,c=b.indexOf("MSIE ");if(c>0||navigator.userAgent.match(/Trident.*rv\:11\./)){var d=parseInt(b.substring(c+5,b.indexOf(".",c)));return 9===d&&a("body").addClass("no-js ie"+d),d}return!1}a.fn.disableSelection=function(){return this.attr("unselectable","on").css("user-select","none").on("selectstart",!1)},a.fn.hasScrollBar=function(){return this.get(0).scrollHeight>this.height()},b()},m=function(){var b=function(){var b=a(".cuar-menu-container .nav-container > ul",g),c=b.children("li"),d="menu-plus",e=b.children("li."+d),f=e.find("#cuar-menu-plus-clone > li"),h=c.length-1;c.not("."+d).each(function(d){0!==d&&c.eq(d-1).hasClass("just-hide")||(a("> .dropdown-menu",c.eq(d)).addClass("dropdown-menu-right"),d>0&&a("> .dropdown-menu",c.eq(d-1)).removeClass("dropdown-menu-right")),b.width()-e.width()<a(this).offset().left+a(this).width()-b.offset().left?(c.eq(d).addClass("just-hide"),f.eq(d).removeClass("hidden"),d!==c.length-1&&c.eq(d-1).hasClass("just-hide")||a("> .dropdown-menu",c.eq(d-1)).addClass("dropdown-menu-right")):(c.eq(d).removeClass("just-hide"),f.eq(d).addClass("hidden")),d!==h-1||a(this).hasClass("just-hide")?e.removeClass("just-hide"):e.addClass("just-hide")})};a(".cuar-menu-container .nav-container > ul").append('<li class="menu-plus"><a href="#" data-toggle="dropdown" class="dropdown-toggle">+</a></li>').clone().appendTo(".cuar-menu-container .nav-container > ul > .menu-plus").attr("id","cuar-menu-plus-clone"),a("#cuar-menu-plus-clone .dropdown").removeClass("dropdown").addClass("dropdown-submenu"),a("#cuar-menu-plus-clone > li.menu-plus").addClass("hidden"),a(".cuar-menu-container .nav-container > ul > .menu-plus > ul").removeClass().addClass("dropdown-menu dropdown-menu-right animated animated-shorter fadeIn"),a(".cuar-menu-container .nav-container > ul > .menu-plus > a").addClass("dropdown-toggle").attr("data-toggle","dropdown"),b(),a(window).on("resize",function(){b()}),a(".navbar-search").on("click",function(b){var c=a(this),d=c.find("input"),e=c.find(".search-remove");a("body.mobile-view").length&&(c.addClass("search-open"),e.length||c.append('<div class="search-remove"></div>'),setTimeout(function(){c.find(".search-remove").fadeIn(),d.focus().one("keydown",function(){a(this).val("")})},250),"search-remove"===a(b.target).attr("class")&&c.removeClass("search-open").find(".search-remove").remove())})},n=function(){function b(){function b(){var b=a("#cuar-js-content-container").innerWidth();a("body").hasClass("disable-tray-rescale")&&b<700||b<550?"desktop"!==u&&u!==!1||(a(s.data("tray-mobile")).empty(),t.appendTo(a(s.data("tray-mobile"))),s.hide(),u="mobile"):"mobile"===u&&(s.empty().show(),t.appendTo(s),u="desktop")}var f=a("#cuar-js-tray");if(f.length&&!a("body").hasClass("disable-tray-rescale")){var g=a("#cuar-js-page-content"),h=null,k=null,l=a("#cuar-js-tray-scroller"),m=0,n=function(){d=!0;var b=a("#cuar-js-tray"),c=a("#cuar-js-page-content");if(h=null,k=null,b.attr("data-tray-height-substract")&&b.attr("data-tray-height-base")){for(var f=a(window).height(),g=b.data("tray-height-substract").split(","),i=0;i<g.length;i++)h+=a(g[i]).outerHeight(!0);k=f-h}else k=c.height(),k=k<e?e:k;k=b.attr("data-tray-height-minimum")?k<b.attr("data-tray-height-minimum")?b.attr("data-tray-height-minimum"):k:k<e?e:k;var j=k-(b.outerHeight(!0)-b.innerHeight());b.height(j),c.height(k-50),l.length||(d=!1)};if(n(),l.length){var o=function(b){d=!0;a("#cuar-js-tray"),a("#cuar-js-page-content");b===!0&&(l=a("#cuar-js-tray-scroller-"+m),n()),setTimeout(function(){a("#cuar-js-page-content-wrapper").height()<=a("#cuar-js-tray-scroller-wrapper").height()?(console.log("first case: content smaller than sidebar"),l.height(a("#cuar-js-page-content").outerHeight())):a(window).innerHeight()>=a("#cuar-js-page-content-wrapper").height()+h?(console.log("second case: content taller than sidebar AND whole area smaller than the window height"),l.height(k-(l.outerHeight(!0)-l.innerHeight()))):(console.log("third case: content taller than sidebar BUT the whole area is taller than the window height"),l.height(a("#cuar-js-page-content-wrapper").height())),setTimeout(function(){console.log("lets rebuild the scroll !"),l.scroller()},200)},800),d=!1};setTimeout(function(){o(!1)},400);var p=function(){l.scroller("destroy").removeClass("scroller").closest(".scroller-bar").remove(),m+=1,a("#cuar-js-tray-scroller-wrapper").parent().hasClass("scroller-content")&&a("#cuar-js-tray-scroller-wrapper").unwrap(),a("#cuar-js-tray-scroller-wrapper").parent().hasClass("tray-scroller")&&a("#cuar-js-tray-scroller-wrapper").unwrap(),a("#cuar-js-tray-scroller-wrapper").wrap("<div id='cuar-js-tray-scroller-"+m+"' class='tray-scroller'></div>")},q=function(){p(),setTimeout(function(){o(!0)},800)};if(a("#cuar-js-page-content-wrapper").on("webkitTransitionEnd transitionend oTransitionEnd trayRemakeAll",function(b){var c=a("#cuar-js-content-container").innerWidth();a("body").hasClass("disable-tray-rescale")&&c<700||c<550?console.log("wont relayout the sidebar, screen too small"):"trayRemakeAll"!==b.type&&("webkitTransitionEnd"!==b.type&&"transitionend"!==b.type&&"oTransitionEnd"!==b.type||"undefined"==typeof b.target.id||"cuar-js-page-content-wrapper"!==b.target.id)||(console.log("main content has been resized !"),d===!1&&(console.log("starting relayout trays after main content resize !"),q()))}),c===!1){i.on("click",function(){a("#cuar-js-page-content-wrapper").trigger("trayRemakeAll")}),j.on("click",function(){a("#cuar-js-page-content-wrapper").trigger("trayRemakeAll")});var r=_.debounce(function(){a("#cuar-js-page-content-wrapper").trigger("trayRemakeAll")},800);a(window).resize(r),c=!0}}else g.height(k+50)}var s=a("#cuar-js-tray"),t=a("#cuar-js-tray-scroller-wrapper"),u=!1;b();var v=function(){b()},w=_.debounce(v,200);a(window).resize(w)}var c=!1,d=!1,g=function(){f.width()<1e3?a("body").addClass("tray-rescale"):a("body").removeClass("tray-rescale tray-rescale-left tray-rescale-right")},k=_.debounce(g,250);a("body").hasClass("disable-tray-rescale")||(a(window).on("resize",k),g()),h.length?f.on("cuar:mixitup:initialized",b):b()},o=function(){if(a.isFunction(a.fn.select2)&&a(".cuar-js-select-single",g).each(function(){a(this).addClass("select2-single").select2({dropdownParent:a(this).parent(),width:"100%",minimumResultsForSearch:-1})}),a.isFunction(a.fn.tooltip)){var c=a("[data-toggle=tooltip]",g);c.length&&(c.parents("#sidebar_left")?c.tooltip({container:a("body"),template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'}):c.tooltip({container:f}))}if(a.isFunction(a.fn.popover)){var d=a("[data-toggle=popover]",f);d.length&&d.popover({container:b})}a(".dropdown-menu.dropdown-persist",g).on("click",function(a){a.stopPropagation()}),a(".dropdown-menu .nav-tabs li a",g).on("click",function(b){b.preventDefault(),b.stopPropagation(),a(this).tab("show")}),a(".dropdown-menu .btn-group-nav a",g).on("click",function(b){b.preventDefault(),b.stopPropagation(),a(this).siblings("a").removeClass("active").end().addClass("active").tab("show")});var e=a(".btn-states",g);if(e.length&&e.on("click",function(){a(this).addClass("active").siblings().removeClass("active")}),a.isFunction(a.fn.smoothScroll)){var h=a("[data-smoothscroll]",g);h.length&&h.each(function(b,c){var d=a(c),e=d.data("smoothscroll"),f=d.find("a");f.smoothScroll({offset:e})})}if(a.isFunction(a.fn.slick)){var i=a(".cuar-js-slick-responsive",f);if(i.length){var j=i.find(".slick-slide").length;i.slick({autoplay:!1,centerMode:!0,dots:!0,infinite:!0,respondTo:"slider",speed:300,slidesToShow:j<4?j:4,slidesToScroll:j<4?j:4,responsive:[{breakpoint:1024,settings:{slidesToShow:j<3?2:3,slidesToScroll:j<3?2:3,infinite:!0,dots:!0}},{breakpoint:600,settings:{slidesToShow:j<2?1:2,slidesToScroll:j<2?1:2}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]})}}},p=function(){if(h.length>0){a.fn.multiselect&&k.multiselect({buttonClass:"btn btn-default"});var b=h.data("type")+"-collection-layout",c="undefined"!=typeof Cookies?Cookies.get(b):"";"list"!==c&&"grid"!==c&&(c=null!==h.data("collection-layout")?h.data("collection-layout"):cuar.default_collection_view[h.data("type")]),"list"===c?(h.addClass(c).removeClass("grid"),i.addClass("btn-primary").removeClass("btn-default"),j.addClass("btn-default").removeClass("btn-primary")):(h.addClass(c).removeClass("list"),i.addClass("btn-default").removeClass("btn-primary"),j.addClass("btn-primary").removeClass("btn-default")),h.mixItUp({controls:{enable:!1},animation:{duration:d,effects:"fade translateZ(-360px) stagger(45ms)",easing:"ease"},callbacks:{onMixEnd:function(){setTimeout(function(){f.trigger("cuar:mixitup:initialized")},d+100)}}}),i.on("click",function(){"undefined"!=typeof Cookies?Cookies.set(b,"list"):console.log("[ WPCA - Warning ] jquery.Cookie.min.js missing"),a(this).addClass("btn-primary").siblings(".btn").addClass("btn-default").removeClass("btn-primary"),h.hasClass("list")||h.mixItUp("changeLayout",{display:"block",containerClass:"list"},function(a){h.removeClass("grid")})}),j.on("click",function(){"undefined"!=typeof Cookies?Cookies.set(b,"grid"):console.log("[ WPCA - Warning ] jquery.Cookie.min.js missing"),a(this).addClass("btn-primary").siblings(".btn").addClass("btn-default").removeClass("btn-primary"),h.hasClass("grid")||h.mixItUp("changeLayout",{display:"inline-block",containerClass:"grid"},function(a){h.removeClass("list")})})}};return{init:function(){l(),m(),o(),n(),p()}}}();a(document).ready(function(){b.init()})}(jQuery);
//# sourceMappingURL=main.js.map